services:
  game:
    build: .
    ports:
      - "8095:8095"
    volumes:
      - agaria-data:/app/data

  ai:
    build: ./AgarIA.Core.AI
    depends_on:
      - game
    environment:
      - API_URL=http://game:8095
    volumes:
      - ai-models:/app/models
    # For NVIDIA GPU: uncomment deploy section
    # deploy:
    #   resources:
    #     reservations:
    #       devices:
    #         - capabilities: [gpu]

volumes:
  agaria-data:
  ai-models:
